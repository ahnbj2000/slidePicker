!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){"use strict";function e(e,n){if(this.container=t(e),this.options=t.extend(!0,{},_,n),this.isDateOrTimeType()&&!moment)throw new Error("moment is not defined.");this.dateTime=new i,this.init()}function i(){this.today=this.getToday()}function n(e,i){e=e||this.options.effect.easing;var n=[this.options.effect.duration+"s",g[e],this.options.effect.delay+"s"].join(" ");"undefined"!=typeof i&&(this._rollingArea=t(i)),this._rollingArea.css("transition",n),this._rollingArea.css("-webkit-transition",n),this._yAxis=m(this._rollingArea).y}function s(e,i){var n=0;0!==e&&(n=o.apply(this,[e,i])),i?t(i).css(this._transform,"translate3d(0, "+n+"px, 0)"):this._rollingArea.css(this._transform,"translate3d(0, "+n+"px, 0)")}function o(e,i){var n=null;n="undefined"!=typeof i?t(i):this._rollingArea;var s=n.find(this.options.selector.list),o=(s.length-1-2)*this._listHeight,r=e%this._listHeight,a=this._listHeight/2,c=e-r;return c>0&&a<=Math.abs(r)&&(c-=this._listHeight),c>0?c=0:Math.abs(c)>=o&&(c=-o),c}function r(e){this._isActivate=!0,this._rollingArea=t(e.currentTarget).find(this.options.selector.rolling),"mouseenter"!==e.type&&(this._startPointY=e.clientY||e.originalEvent.changedTouches[0].clientY),n.apply(this)}function a(t){if(t.preventDefault(),this._isActivate){var e=t.clientY||t.originalEvent.changedTouches[0].clientY,i=e-this._startPointY;s.apply(this,[this._yAxis+i])}}function c(t){}function h(e){var i=e.currentTarget,n=f.call(this,i),s=t(i).find(this.options.selector.list),o=this;s.removeClass(this._selectedClass),s.eq(n).addClass(this._selectedClass);var r=[];this._selectionArea.each(function(e,i){var n=t(i).find(o.options.selector.list+"."+o._selectedClass);0===n.length&&(n=t(i).find(o.options.selector.list).eq(1)),r.push(n.attr("data-id"))}),this.options.onChange.apply(this,[i,{index:n,id:s.eq(n).data("id"),values:r}]),this._isActivate=!1}function l(e){this._rollingArea||(this._rollingArea=t(e.currentTarget).find(this.options.selector.rolling),this._yAxis=0);var i=e.originalEvent;s.apply(this,[this._yAxis+=i.wheelDeltaY])}function p(e){var i=t(e.target),n=i.closest(this.options.selector.view),o=n.find(this.options.selector.list),r=i.closest(this.options.selector.list),a=o.index(r);-1!==a&&s.apply(this,[-((a-1)*this._listHeight),n.find(this.options.selector.rolling)])}function u(){var e=[],i=this.container.find("."+this._selectedClass),n=!0;i.each(function(){var i=t(this).attr("data-id");return i?void e.push(i):(n=!1,!1)}),n&&(this.hide(),this.options.onConfirm.apply(this,[this._inputTargetEl,e]),this._inputTargetEl=null)}function d(){this.hide(),this._inputTargetEl=null,this.options.onClose.apply(this)}function f(e){return Math.abs(m(t(e).find(this.options.selector.rolling)).y/this._listHeight)+1}function m(t){var e=t.css("-webkit-transform")||t.css("-ms-transform")||t.css("-moz-transform")||t.css("-o-transform")||t.css("transform"),i=e.substr(7,e.length-8).split(", ");return{x:parseFloat(i[4])||0,y:parseFloat(i[5])||0}}function y(t,e){if(t in document.body.style)return t;for(var i=e?["moz","webkit","o","ms"]:["Moz","Webkit","O","ms"],n=t.charAt(0).toUpperCase()+t.substr(1),s=0;s<i.length;++s){var o=i[s]+n;if(o in document.body.style)return o}}var _={selector:{view:"",rolling:"",list:"",confirm:"",close:""},effect:{easing:"ease",duration:1,delay:0},selectedClass:"selected",isDateTimePicker:!1,onRender:t.noop,onShow:t.noop,onHide:t.noop,onAfterRender:t.noop,onChange:t.noop,onConfirm:t.noop,onClose:t.noop},g={ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",easeInCubic:"cubic-bezier(.550,.055,.675,.190)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"};e.prototype.init=function(){var e=this.options.selector;this._selectionArea=this.container.find(e.view),this._confirm=this.container.find(e.confirm),this._close=this.container.find(e.close),this._selectedClass=this.options.selectedClass;var i=this;this.options.onRender.apply(this,[this.dateTime]),this._selectionArea.each(function(e){t(this).data("index",e),t(this).find(i.options.selector.list).eq(1).addClass(i._selectedClass),t(this).css("-webkit-tap-highlight-color","transparent")}),this._listHeight=t(this.options.selector.list).eq(1).height(),this.attachEvents(),this._transform=y("transform"),this.options.onAfterRender.apply(this,[this.dateTime])},e.prototype.attachEvents=function(){this._startDragHandler=t.proxy(r,this),this._dragHandler=t.proxy(a,this),this._wheelHandler=t.proxy(l,this),this._endDragHandler=t.proxy(c,this),this._transitionEndHandler=t.proxy(h,this),this._clickHandler=t.proxy(p,this),this._confirmHandler=t.proxy(u,this),this._closeHandler=t.proxy(d,this),this._selectionArea.on("mousedown touchstart mouseenter.appoint",this._startDragHandler),this._selectionArea.on("mousemove touchmove.appoint",this._dragHandler),this._selectionArea.on("mouseup touchend.appoint",this._endDragHandler),this._selectionArea.on("transitionend webkitTransitionEnd.appoint ",this._transitionEndHandler),this._selectionArea.on("mousewheel wheel.appoint",this._wheelHandler),this._selectionArea.on("click.appoint",this._clickHandler),this._confirm.on("click.appoint",this._confirmHandler),this._close.on("click.appoint",this._closeHandler)},e.prototype.pick=function(e){if("undefined"!=typeof e){var i=this;this._selectionArea.each(function(o,r){var a=e[o];if(r=t(r),!a)return!1;var c=r.find("[data-id="+a+"]"),h=r.find(i.options.selector.rolling),l=r.find(i.options.selector.list),p=l.index(c)-1;l.removeClass(i._selectedClass),c.addClass(i._selectedClass),n.apply(i,[i.options.effect.easing,h]),s.apply(i,[-(p*i._listHeight),h])})}},e.prototype.repaint=function(e){function i(e){e=t(e);var i=e.find(n.options.selector.rolling),o=e.find(n.options.selector.list),r=m(i).y,a=(o.length-1-2)*n._listHeight;Math.abs(r)>a&&s.apply(n,[-a,i]),o.eq(f.call(n,e)).addClass(n._selectedClass)}var n=this;"undefined"==typeof e?this._selectionArea.each(function(t,e){i(e)}):i(this._selectionArea.eq(e))},e.prototype.show=function(e,i){this._inputTargetEl=t(e),this.options.onShow.apply(this,[i]),this.container.show(),i instanceof Array||this.pick([i]),this.pick(i),this.adjust()},e.prototype.hide=function(){this.container.hide(),t(".dimmed_layer").remove(),this.options.onHide.apply(this)},e.prototype.adjust=function(){var e=this,i=t('<div class="dimmed_layer"></div>');i.css({position:"fixed",zIndex:1e4,top:0,left:0,right:0,bottom:0,width:"100%",height:"100%",backgroundColor:"#000000",opacity:.6}),i.appendTo(document.body),i.off("click").on("click",function(i){e.hide(),t(i.target).remove()}),this.container.appendTo(document.body),this.container.css({position:"fixed",zIndex:10001,top:window.innerHeight/2-this.container.outerHeight(!0)/2,left:window.innerWidth/2-this.container.outerWidth(!0)/2})},e.prototype.destroy=function(){this._selectionArea.off(".appoint"),this.dateTime=null,this.container.removeData("slide_picker_inst")},e.prototype.isDateOrTimeType=function(){return this.options.isDateTimePicker},e.prototype.getContainer=function(){return this.container},i.prototype.getToday=function(){return{year:moment().format("YY"),month:moment().format("MM"),day:moment().format("DD"),dayOfWeek:moment().format("d"),dateString:moment().format("YYYY-MM-DD")}},i.prototype.getDaysInMonth=function(t){var e=this.getToday(),i=t.split("-"),n=i?i[0]:e.year,s=i?i[1]:e.month;return moment([n,"-",s].join(""),"YYYY-MM").daysInMonth()},i.prototype.getDayOfWeek=function(t,e){var i=this.getToday(),n=t.split("-"),s=n?n[0]:i.year,o=n?n[1]:i.month,r=n?n[2]:i.day,a=moment([s,"-",o,"-",r].join("")).format("d");return e&&e instanceof Array?e[a]:a},i.prototype.getNow=function(t){var e=t?"HH":"hh";return{amPm:moment().format("a"),hour:moment().format(e),minute:moment().format("mm")}},i.prototype.getConvertedTime=function(t,e){var i=t.split(":"),n=i[0],s=i[1];if(e=e?e.toLowerCase():null,!e)return{amPm:moment().hour(n).format("a"),hour:moment().hour(n).format("hh"),minute:moment().minute(s).format("mm")};if("pm"===e){var o=parseInt(n,10);n=12>o?o+12:"00"}return{hour:n,minute:moment().minute(s).format("mm")}},t.fn.slidePicker=function(t){if(1===this.length){if(!this.data("slide_picker_inst")){var i=new e(this,t);return this.data("slide_picker_inst",i),i}return this.data("slide_picker_inst")}if(this.length>1)throw new Error("Already slidePicker instance has been created.")}});